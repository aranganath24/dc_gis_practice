<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Exploring Data Frames | Introduction to R for Geospatial Data</title>
  <meta name="description" content="5 Exploring Data Frames | Introduction to R for Geospatial Data" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Exploring Data Frames | Introduction to R for Geospatial Data" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Exploring Data Frames | Introduction to R for Geospatial Data" />
  
  
  

<meta name="author" content="Aditya Ranganath" />


<meta name="date" content="2021-11-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-structures.html"/>
<link rel="next" href="subsetting-data.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R-Geospatial</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html"><i class="fa fa-check"></i><b>2</b> Introduction to R and R Studio</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#introduction-to-r"><i class="fa fa-check"></i><b>2.1</b> Introduction to R</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#using-r-as-a-calculator"><i class="fa fa-check"></i><b>2.2</b> Using R as a calculator</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#comparing-things"><i class="fa fa-check"></i><b>2.3</b> Comparing things</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#variables-and-assignment"><i class="fa fa-check"></i><b>2.4</b> Variables and assignment</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#installing-packages"><i class="fa fa-check"></i><b>2.5</b> Installing packages</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="project-management-with-r-studio.html"><a href="project-management-with-r-studio.html"><i class="fa fa-check"></i><b>3</b> Project Management With R Studio</a></li>
<li class="chapter" data-level="4" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>4</b> Data Structures</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-structures.html"><a href="data-structures.html#data-types"><i class="fa fa-check"></i><b>4.1</b> Data Types</a></li>
<li class="chapter" data-level="4.2" data-path="data-structures.html"><a href="data-structures.html#vectors-and-type-coercion"><i class="fa fa-check"></i><b>4.2</b> Vectors and Type Coercion</a></li>
<li class="chapter" data-level="4.3" data-path="data-structures.html"><a href="data-structures.html#factors"><i class="fa fa-check"></i><b>4.3</b> Factors</a></li>
<li class="chapter" data-level="4.4" data-path="data-structures.html"><a href="data-structures.html#lists"><i class="fa fa-check"></i><b>4.4</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html"><i class="fa fa-check"></i><b>5</b> Exploring Data Frames</a>
<ul>
<li class="chapter" data-level="5.1" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html#realistic-example"><i class="fa fa-check"></i><b>5.1</b> Realistic Example</a></li>
<li class="chapter" data-level="5.2" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html#adding-columns-and-rows-in-data-frames"><i class="fa fa-check"></i><b>5.2</b> Adding columns and rows in data frames</a></li>
<li class="chapter" data-level="5.3" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html#factors-1"><i class="fa fa-check"></i><b>5.3</b> Factors</a></li>
<li class="chapter" data-level="5.4" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html#appending-to-a-data-frame"><i class="fa fa-check"></i><b>5.4</b> Appending to a data frame</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="subsetting-data.html"><a href="subsetting-data.html"><i class="fa fa-check"></i><b>6</b> Subsetting Data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="subsetting-data.html"><a href="subsetting-data.html#accessing-elements-using-their-indices"><i class="fa fa-check"></i><b>6.1</b> Accessing elements using their indices</a></li>
<li class="chapter" data-level="6.2" data-path="subsetting-data.html"><a href="subsetting-data.html#skipping-and-removing-elements"><i class="fa fa-check"></i><b>6.2</b> Skipping and removing elements</a></li>
<li class="chapter" data-level="6.3" data-path="subsetting-data.html"><a href="subsetting-data.html#subsetting-by-name"><i class="fa fa-check"></i><b>6.3</b> Subsetting by name</a></li>
<li class="chapter" data-level="6.4" data-path="subsetting-data.html"><a href="subsetting-data.html#subsetting-through-other-logical-operations"><i class="fa fa-check"></i><b>6.4</b> Subsetting through other logical operations</a></li>
<li class="chapter" data-level="6.5" data-path="subsetting-data.html"><a href="subsetting-data.html#data-frames"><i class="fa fa-check"></i><b>6.5</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html"><i class="fa fa-check"></i><b>7</b> Dataframe Manipulation with dplyr</a>
<ul>
<li class="chapter" data-level="7.1" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#the-dplyr-package"><i class="fa fa-check"></i><b>7.1</b> The dplyr package</a></li>
<li class="chapter" data-level="7.2" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-select"><i class="fa fa-check"></i><b>7.2</b> Using <code>select()</code></a></li>
<li class="chapter" data-level="7.3" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-filter"><i class="fa fa-check"></i><b>7.3</b> Using <code>filter</code></a></li>
<li class="chapter" data-level="7.4" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-group_by-and-summarize"><i class="fa fa-check"></i><b>7.4</b> Using <code>group_by()</code> and <code>summarize()</code></a></li>
<li class="chapter" data-level="7.5" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-summarize"><i class="fa fa-check"></i><b>7.5</b> Using <code>summarize</code></a></li>
<li class="chapter" data-level="7.6" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#count-and-n"><i class="fa fa-check"></i><b>7.6</b> <code>count()</code> and <code>n()</code></a></li>
<li class="chapter" data-level="7.7" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-mutate"><i class="fa fa-check"></i><b>7.7</b> Using <code>mutate()</code></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="introduction-to-visualization.html"><a href="introduction-to-visualization.html"><i class="fa fa-check"></i><b>8</b> Introduction to Visualization</a></li>
<li class="chapter" data-level="9" data-path="writing-data.html"><a href="writing-data.html"><i class="fa fa-check"></i><b>9</b> Writing Data</a>
<ul>
<li class="chapter" data-level="9.1" data-path="writing-data.html"><a href="writing-data.html#saving-plots"><i class="fa fa-check"></i><b>9.1</b> Saving plots</a></li>
<li class="chapter" data-level="9.2" data-path="writing-data.html"><a href="writing-data.html#writing-data-1"><i class="fa fa-check"></i><b>9.2</b> Writing data</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to R for Geospatial Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exploring-data-frames" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Exploring Data Frames</h1>
<p>At this point, you’ve seen it all: in the last lesson, we toured all the basic data types and data structures in R. Everything you do will be a manipulation of those tools. But most of the time, the star of the show is the data frame—the table that we created by loading information from a csv file. In this lesson, we’ll learn a few more things about working with data frames.</p>
<div id="realistic-example" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Realistic Example</h2>
<p>We already learned that the columns of a data frame are vectors, so that our data are consistent in type throughout the columns. So far, you have seen the basics of manipulating data frames with our nordic data; now, let’s use those skills to analyze a more complext dataset.</p>
<p>Let’s go ahead and read in the gapminder dataset and assign it to an object named “gapminder”</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="exploring-data-frames.html#cb151-1" aria-hidden="true" tabindex="-1"></a>gapminder<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">&quot;gapminder_data.csv&quot;</span>)</span></code></pre></div>
<p>Let’s investigate the gapminder data frame a bit; the first thing we should always do is get a sense of what the data looks like with the <code>str</code> function:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="exploring-data-frames.html#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(gapminder)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    1704 obs. of  6 variables:
##  $ country  : chr  &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; ...
##  $ year     : int  1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...
##  $ pop      : num  8425333 9240934 10267083 11537966 13079460 ...
##  $ continent: chr  &quot;Asia&quot; &quot;Asia&quot; &quot;Asia&quot; &quot;Asia&quot; ...
##  $ lifeExp  : num  28.8 30.3 32 34 36.1 ...
##  $ gdpPercap: num  779 821 853 836 740 ...</code></pre>
<p>We can also examine individual columns of the data frame with our <code>class</code> function:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="exploring-data-frames.html#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(gapminder<span class="sc">$</span>year)</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="exploring-data-frames.html#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(gapminder<span class="sc">$</span>country)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>We can also apply <code>str</code> to individual columns</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="exploring-data-frames.html#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(gapminder<span class="sc">$</span>country)</span></code></pre></div>
<pre><code>##  chr [1:1704] &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; ...</code></pre>
<p>We can also interrogate the data frame for information about its dimensions. Recall from earlier that when we passed gapminder to the <code>str</code> function, the output informed us that there were 1704 observations and 6 variables in gapminder. Keeping that in mind what do you think the following will produce, and why?</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="exploring-data-frames.html#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(gapminder)</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>A fair guess would have been to say that the length of a data frame would be the number of rows (1704 in this case), but that’s not the case; the length actually returns the number of columns.</p>
<p>Let’s confirm the class of <code>gapminder</code></p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="exploring-data-frames.html#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(gapminder)</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p>To get the number of rows in the dataset, we can use the <code>nrow</code> function:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="exploring-data-frames.html#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(gapminder)</span></code></pre></div>
<pre><code>## [1] 1704</code></pre>
<p>To get the number of columns, we can use the <code>ncol</code> function:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="exploring-data-frames.html#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(gapminder)</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>If we want to get both at once, and get a fuller sense of a dataset’s dimensions at one go, we can use the <code>dim</code> function:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="exploring-data-frames.html#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(gapminder)</span></code></pre></div>
<pre><code>## [1] 1704    6</code></pre>
<p>We’ll also likely want to know the titles of all the columns. We can use the <code>colnames</code> function to get those names:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="exploring-data-frames.html#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(gapminder)</span></code></pre></div>
<pre><code>## [1] &quot;country&quot;   &quot;year&quot;      &quot;pop&quot;       &quot;continent&quot; &quot;lifeExp&quot;   &quot;gdpPercap&quot;</code></pre>
<p>At this point in a data analysis workflow, it’s it’s important to ask ourselves if the structure R is reporting matches our intuition or expectations; do the basic data types reported for each column make sense? If not, we need to sort any problems out now before they turn into bad surprises down the road. To diagnose and sort out potential problems, we can use what we’ve learned about how R interprets data, and the importance of strict consistency in how we record our data.</p>
<p>Once we’re happy that the data types and structures seem reasonable, it’s time to start digging into our data proper. Check out the first few lines:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="exploring-data-frames.html#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(gapminder)</span></code></pre></div>
<pre><code>##       country year      pop continent lifeExp gdpPercap
## 1 Afghanistan 1952  8425333      Asia  28.801  779.4453
## 2 Afghanistan 1957  9240934      Asia  30.332  820.8530
## 3 Afghanistan 1962 10267083      Asia  31.997  853.1007
## 4 Afghanistan 1967 11537966      Asia  34.020  836.1971
## 5 Afghanistan 1972 13079460      Asia  36.088  739.9811
## 6 Afghanistan 1977 14880372      Asia  38.438  786.1134</code></pre>
</div>
<div id="adding-columns-and-rows-in-data-frames" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Adding columns and rows in data frames</h2>
<p>Let’s talk about adding columns and rows in data frames. Let’s assume that we’d like to create a new column to hold information on whether the life expectancy is below or above the world’s average life expectancy of 70.5:</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="exploring-data-frames.html#cb174-1" aria-hidden="true" tabindex="-1"></a>below_average<span class="ot">&lt;-</span>gapminder<span class="sc">$</span>lifeExp<span class="sc">&lt;</span><span class="fl">70.5</span></span></code></pre></div>
<p>Let’s refresh our memories about what gapminder looks like:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="exploring-data-frames.html#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(gapminder)</span></code></pre></div>
<pre><code>##       country year      pop continent lifeExp gdpPercap
## 1 Afghanistan 1952  8425333      Asia  28.801  779.4453
## 2 Afghanistan 1957  9240934      Asia  30.332  820.8530
## 3 Afghanistan 1962 10267083      Asia  31.997  853.1007
## 4 Afghanistan 1967 11537966      Asia  34.020  836.1971
## 5 Afghanistan 1972 13079460      Asia  36.088  739.9811
## 6 Afghanistan 1977 14880372      Asia  38.438  786.1134</code></pre>
<p>And now, let’s add <code>below_average</code> as a column using the <code>cbind</code> function:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="exploring-data-frames.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(gapminder, below_average)</span></code></pre></div>
<pre><code>##         country year       pop continent lifeExp  gdpPercap below_average
## 1   Afghanistan 1952   8425333      Asia  28.801   779.4453          TRUE
## 2   Afghanistan 1957   9240934      Asia  30.332   820.8530          TRUE
## 3   Afghanistan 1962  10267083      Asia  31.997   853.1007          TRUE
## 4   Afghanistan 1967  11537966      Asia  34.020   836.1971          TRUE
## 5   Afghanistan 1972  13079460      Asia  36.088   739.9811          TRUE
## 6   Afghanistan 1977  14880372      Asia  38.438   786.1134          TRUE
## 7   Afghanistan 1982  12881816      Asia  39.854   978.0114          TRUE
## 8   Afghanistan 1987  13867957      Asia  40.822   852.3959          TRUE
## 9   Afghanistan 1992  16317921      Asia  41.674   649.3414          TRUE
## 10  Afghanistan 1997  22227415      Asia  41.763   635.3414          TRUE
## 11  Afghanistan 2002  25268405      Asia  42.129   726.7341          TRUE
## 12  Afghanistan 2007  31889923      Asia  43.828   974.5803          TRUE
## 13      Albania 1952   1282697    Europe  55.230  1601.0561          TRUE
## 14      Albania 1957   1476505    Europe  59.280  1942.2842          TRUE
## 15      Albania 1962   1728137    Europe  64.820  2312.8890          TRUE
## 16      Albania 1967   1984060    Europe  66.220  2760.1969          TRUE
## 17      Albania 1972   2263554    Europe  67.690  3313.4222          TRUE
## 18      Albania 1977   2509048    Europe  68.930  3533.0039          TRUE
## 19      Albania 1982   2780097    Europe  70.420  3630.8807          TRUE
## 20      Albania 1987   3075321    Europe  72.000  3738.9327         FALSE
## 21      Albania 1992   3326498    Europe  71.581  2497.4379         FALSE
## 22      Albania 1997   3428038    Europe  72.950  3193.0546         FALSE
## 23      Albania 2002   3508512    Europe  75.651  4604.2117         FALSE
## 24      Albania 2007   3600523    Europe  76.423  5937.0295         FALSE
## 25      Algeria 1952   9279525    Africa  43.077  2449.0082          TRUE
## 26      Algeria 1957  10270856    Africa  45.685  3013.9760          TRUE
## 27      Algeria 1962  11000948    Africa  48.303  2550.8169          TRUE
## 28      Algeria 1967  12760499    Africa  51.407  3246.9918          TRUE
## 29      Algeria 1972  14760787    Africa  54.518  4182.6638          TRUE
## 30      Algeria 1977  17152804    Africa  58.014  4910.4168          TRUE
## 31      Algeria 1982  20033753    Africa  61.368  5745.1602          TRUE
## 32      Algeria 1987  23254956    Africa  65.799  5681.3585          TRUE
## 33      Algeria 1992  26298373    Africa  67.744  5023.2166          TRUE
## 34      Algeria 1997  29072015    Africa  69.152  4797.2951          TRUE
## 35      Algeria 2002  31287142    Africa  70.994  5288.0404         FALSE
## 36      Algeria 2007  33333216    Africa  72.301  6223.3675         FALSE
## 37       Angola 1952   4232095    Africa  30.015  3520.6103          TRUE
## 38       Angola 1957   4561361    Africa  31.999  3827.9405          TRUE
## 39       Angola 1962   4826015    Africa  34.000  4269.2767          TRUE
## 40       Angola 1967   5247469    Africa  35.985  5522.7764          TRUE
## 41       Angola 1972   5894858    Africa  37.928  5473.2880          TRUE
## 42       Angola 1977   6162675    Africa  39.483  3008.6474          TRUE
## 43       Angola 1982   7016384    Africa  39.942  2756.9537          TRUE
## 44       Angola 1987   7874230    Africa  39.906  2430.2083          TRUE
## 45       Angola 1992   8735988    Africa  40.647  2627.8457          TRUE
## 46       Angola 1997   9875024    Africa  40.963  2277.1409          TRUE
## 47       Angola 2002  10866106    Africa  41.003  2773.2873          TRUE
## 48       Angola 2007  12420476    Africa  42.731  4797.2313          TRUE
## 49    Argentina 1952  17876956  Americas  62.485  5911.3151          TRUE
## 50    Argentina 1957  19610538  Americas  64.399  6856.8562          TRUE
## 51    Argentina 1962  21283783  Americas  65.142  7133.1660          TRUE
## 52    Argentina 1967  22934225  Americas  65.634  8052.9530          TRUE
## 53    Argentina 1972  24779799  Americas  67.065  9443.0385          TRUE
## 54    Argentina 1977  26983828  Americas  68.481 10079.0267          TRUE
## 55    Argentina 1982  29341374  Americas  69.942  8997.8974          TRUE
## 56    Argentina 1987  31620918  Americas  70.774  9139.6714         FALSE
## 57    Argentina 1992  33958947  Americas  71.868  9308.4187         FALSE
## 58    Argentina 1997  36203463  Americas  73.275 10967.2820         FALSE
## 59    Argentina 2002  38331121  Americas  74.340  8797.6407         FALSE
## 60    Argentina 2007  40301927  Americas  75.320 12779.3796         FALSE
## 61    Australia 1952   8691212   Oceania  69.120 10039.5956          TRUE
## 62    Australia 1957   9712569   Oceania  70.330 10949.6496          TRUE
## 63    Australia 1962  10794968   Oceania  70.930 12217.2269         FALSE
## 64    Australia 1967  11872264   Oceania  71.100 14526.1246         FALSE
## 65    Australia 1972  13177000   Oceania  71.930 16788.6295         FALSE
## 66    Australia 1977  14074100   Oceania  73.490 18334.1975         FALSE
## 67    Australia 1982  15184200   Oceania  74.740 19477.0093         FALSE
## 68    Australia 1987  16257249   Oceania  76.320 21888.8890         FALSE
## 69    Australia 1992  17481977   Oceania  77.560 23424.7668         FALSE
## 70    Australia 1997  18565243   Oceania  78.830 26997.9366         FALSE
## 71    Australia 2002  19546792   Oceania  80.370 30687.7547         FALSE
## 72    Australia 2007  20434176   Oceania  81.235 34435.3674         FALSE
## 73      Austria 1952   6927772    Europe  66.800  6137.0765          TRUE
## 74      Austria 1957   6965860    Europe  67.480  8842.5980          TRUE
## 75      Austria 1962   7129864    Europe  69.540 10750.7211          TRUE
## 76      Austria 1967   7376998    Europe  70.140 12834.6024          TRUE
## 77      Austria 1972   7544201    Europe  70.630 16661.6256         FALSE
## 78      Austria 1977   7568430    Europe  72.170 19749.4223         FALSE
## 79      Austria 1982   7574613    Europe  73.180 21597.0836         FALSE
## 80      Austria 1987   7578903    Europe  74.940 23687.8261         FALSE
## 81      Austria 1992   7914969    Europe  76.040 27042.0187         FALSE
## 82      Austria 1997   8069876    Europe  77.510 29095.9207         FALSE
## 83      Austria 2002   8148312    Europe  78.980 32417.6077         FALSE
## 84      Austria 2007   8199783    Europe  79.829 36126.4927         FALSE
## 85      Bahrain 1952    120447      Asia  50.939  9867.0848          TRUE
## 86      Bahrain 1957    138655      Asia  53.832 11635.7995          TRUE
## 87      Bahrain 1962    171863      Asia  56.923 12753.2751          TRUE
## 88      Bahrain 1967    202182      Asia  59.923 14804.6727          TRUE
## 89      Bahrain 1972    230800      Asia  63.300 18268.6584          TRUE
## 90      Bahrain 1977    297410      Asia  65.593 19340.1020          TRUE
## 91      Bahrain 1982    377967      Asia  69.052 19211.1473          TRUE
## 92      Bahrain 1987    454612      Asia  70.750 18524.0241         FALSE
## 93      Bahrain 1992    529491      Asia  72.601 19035.5792         FALSE
## 94      Bahrain 1997    598561      Asia  73.925 20292.0168         FALSE
## 95      Bahrain 2002    656397      Asia  74.795 23403.5593         FALSE
## 96      Bahrain 2007    708573      Asia  75.635 29796.0483         FALSE
## 97   Bangladesh 1952  46886859      Asia  37.484   684.2442          TRUE
## 98   Bangladesh 1957  51365468      Asia  39.348   661.6375          TRUE
## 99   Bangladesh 1962  56839289      Asia  41.216   686.3416          TRUE
## 100  Bangladesh 1967  62821884      Asia  43.453   721.1861          TRUE
## 101  Bangladesh 1972  70759295      Asia  45.252   630.2336          TRUE
## 102  Bangladesh 1977  80428306      Asia  46.923   659.8772          TRUE
## 103  Bangladesh 1982  93074406      Asia  50.009   676.9819          TRUE
## 104  Bangladesh 1987 103764241      Asia  52.819   751.9794          TRUE
## 105  Bangladesh 1992 113704579      Asia  56.018   837.8102          TRUE
## 106  Bangladesh 1997 123315288      Asia  59.412   972.7700          TRUE
## 107  Bangladesh 2002 135656790      Asia  62.013  1136.3904          TRUE
## 108  Bangladesh 2007 150448339      Asia  64.062  1391.2538          TRUE
## 109     Belgium 1952   8730405    Europe  68.000  8343.1051          TRUE
## 110     Belgium 1957   8989111    Europe  69.240  9714.9606          TRUE
## 111     Belgium 1962   9218400    Europe  70.250 10991.2068          TRUE
## 112     Belgium 1967   9556500    Europe  70.940 13149.0412         FALSE
## 113     Belgium 1972   9709100    Europe  71.440 16672.1436         FALSE
## 114     Belgium 1977   9821800    Europe  72.800 19117.9745         FALSE
## 115     Belgium 1982   9856303    Europe  73.930 20979.8459         FALSE
## 116     Belgium 1987   9870200    Europe  75.350 22525.5631         FALSE
## 117     Belgium 1992  10045622    Europe  76.460 25575.5707         FALSE
## 118     Belgium 1997  10199787    Europe  77.530 27561.1966         FALSE
## 119     Belgium 2002  10311970    Europe  78.320 30485.8838         FALSE
## 120     Belgium 2007  10392226    Europe  79.441 33692.6051         FALSE
## 121       Benin 1952   1738315    Africa  38.223  1062.7522          TRUE
## 122       Benin 1957   1925173    Africa  40.358   959.6011          TRUE
## 123       Benin 1962   2151895    Africa  42.618   949.4991          TRUE
## 124       Benin 1967   2427334    Africa  44.885  1035.8314          TRUE
## 125       Benin 1972   2761407    Africa  47.014  1085.7969          TRUE
## 126       Benin 1977   3168267    Africa  49.190  1029.1613          TRUE
## 127       Benin 1982   3641603    Africa  50.904  1277.8976          TRUE
## 128       Benin 1987   4243788    Africa  52.337  1225.8560          TRUE
## 129       Benin 1992   4981671    Africa  53.919  1191.2077          TRUE
## 130       Benin 1997   6066080    Africa  54.777  1232.9753          TRUE
## 131       Benin 2002   7026113    Africa  54.406  1372.8779          TRUE
## 132       Benin 2007   8078314    Africa  56.728  1441.2849          TRUE
## 133     Bolivia 1952   2883315  Americas  40.414  2677.3263          TRUE
## 134     Bolivia 1957   3211738  Americas  41.890  2127.6863          TRUE
## 135     Bolivia 1962   3593918  Americas  43.428  2180.9725          TRUE
## 136     Bolivia 1967   4040665  Americas  45.032  2586.8861          TRUE
## 137     Bolivia 1972   4565872  Americas  46.714  2980.3313          TRUE
## 138     Bolivia 1977   5079716  Americas  50.023  3548.0978          TRUE
## 139     Bolivia 1982   5642224  Americas  53.859  3156.5105          TRUE
## 140     Bolivia 1987   6156369  Americas  57.251  2753.6915          TRUE
## 141     Bolivia 1992   6893451  Americas  59.957  2961.6997          TRUE
## 142     Bolivia 1997   7693188  Americas  62.050  3326.1432          TRUE
##  [ reached &#39;max&#39; / getOption(&quot;max.print&quot;) -- omitted 1562 rows ]</code></pre>
<p>If we don’t want to print the entire data frame every time, we can put our <code>cbind</code> command within a call to <code>head</code> to return only the first six lines of the output:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="exploring-data-frames.html#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">cbind</span>(gapminder, below_average))</span></code></pre></div>
<pre><code>##       country year      pop continent lifeExp gdpPercap below_average
## 1 Afghanistan 1952  8425333      Asia  28.801  779.4453          TRUE
## 2 Afghanistan 1957  9240934      Asia  30.332  820.8530          TRUE
## 3 Afghanistan 1962 10267083      Asia  31.997  853.1007          TRUE
## 4 Afghanistan 1967 11537966      Asia  34.020  836.1971          TRUE
## 5 Afghanistan 1972 13079460      Asia  36.088  739.9811          TRUE
## 6 Afghanistan 1977 14880372      Asia  38.438  786.1134          TRUE</code></pre>
<p>Now let’s see what happens if we try to add a vector of <code>below_average</code> with a different number of entries than the number of rows in the <code>gapminder</code> data frame:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="exploring-data-frames.html#cb181-1" aria-hidden="true" tabindex="-1"></a>below_average<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb181-2"><a href="exploring-data-frames.html#cb181-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">cbind</span>(gapminder, below_average))</span></code></pre></div>
<p>Running this leads to an error that says “arguments imply differing number of rows.” This happens because R wants to see one element in our new column for every row in the table.</p>
<p>Let’s remind ourselves of the number of rows in gapminder:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="exploring-data-frames.html#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(gapminder)</span></code></pre></div>
<pre><code>## [1] 1704</code></pre>
<p>And the length of the <code>below_average</code> vector:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="exploring-data-frames.html#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(below_average)</span></code></pre></div>
<pre><code>## [1] 1704</code></pre>
<p>For the binding to work, we need to have the number of rows in <code>gapminder</code> equal to the length of the <code>below_average</code> vector or we need the number of rows in gapminder to be a multiple of the length of the <code>below_average</code> vector. Because <code>gapminder</code> does not have five rows or a multiple of five rows, the column binding failed.</p>
<p>Let’s try again, this time with a <code>below_average</code> vector length of three:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="exploring-data-frames.html#cb186-1" aria-hidden="true" tabindex="-1"></a>below_average<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb186-2"><a href="exploring-data-frames.html#cb186-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">cbind</span>(gapminder, below_average))</span></code></pre></div>
<pre><code>##       country year      pop continent lifeExp gdpPercap below_average
## 1 Afghanistan 1952  8425333      Asia  28.801  779.4453          TRUE
## 2 Afghanistan 1957  9240934      Asia  30.332  820.8530          TRUE
## 3 Afghanistan 1962 10267083      Asia  31.997  853.1007         FALSE
## 4 Afghanistan 1967 11537966      Asia  34.020  836.1971          TRUE
## 5 Afghanistan 1972 13079460      Asia  36.088  739.9811          TRUE
## 6 Afghanistan 1977 14880372      Asia  38.438  786.1134         FALSE</code></pre>
<p>This time, it worked, since 1704 is divisible by three. More specifically, what’s happening here is that the sequence <code>TRUE, TRUE, FALSE</code> is repeated over all the gapminder rows. Let’s go ahead and overwrite the content of gapminder with this new data frame:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="exploring-data-frames.html#cb188-1" aria-hidden="true" tabindex="-1"></a>below_average<span class="ot">&lt;-</span><span class="fu">as.logical</span>(gapminder<span class="sc">$</span>lifeExp<span class="sc">&lt;</span><span class="fl">70.5</span>)</span>
<span id="cb188-2"><a href="exploring-data-frames.html#cb188-2" aria-hidden="true" tabindex="-1"></a>gapminder<span class="ot">&lt;-</span><span class="fu">cbind</span>(gapminder, below_average)</span></code></pre></div>
<p>Now how about adding rows? Recall that the rows of a data frame are lists. To add a new row, we can make a list and then use the <code>rbind</code> function to append the row to the existing data frame. Let’s see an example:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="exploring-data-frames.html#cb189-1" aria-hidden="true" tabindex="-1"></a>new_row<span class="ot">&lt;-</span><span class="fu">list</span>(<span class="st">&#39;Norway&#39;</span>, <span class="dv">2016</span>, <span class="dv">500000</span>, <span class="st">&#39;Nordic&#39;</span>, <span class="fl">80.3</span>, <span class="fl">49400.0</span>, <span class="cn">FALSE</span>)</span>
<span id="cb189-2"><a href="exploring-data-frames.html#cb189-2" aria-hidden="true" tabindex="-1"></a>gapminder_norway<span class="ot">&lt;-</span><span class="fu">rbind</span>(gapminder, new_row)</span>
<span id="cb189-3"><a href="exploring-data-frames.html#cb189-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(gapminder_norway)</span></code></pre></div>
<pre><code>##       country year      pop continent lifeExp  gdpPercap below_average
## 1700 Zimbabwe 1987  9216418    Africa  62.351   706.1573          TRUE
## 1701 Zimbabwe 1992 10704340    Africa  60.377   693.4208          TRUE
## 1702 Zimbabwe 1997 11404948    Africa  46.809   792.4500          TRUE
## 1703 Zimbabwe 2002 11926563    Africa  39.989   672.0386          TRUE
## 1704 Zimbabwe 2007 12311143    Africa  43.487   469.7093          TRUE
## 1705   Norway 2016   500000    Nordic  80.300 49400.0000         FALSE</code></pre>
<p>That worked, because <code>continent</code> is being treated as a character vector. But what if it was considered a factor?</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="exploring-data-frames.html#cb191-1" aria-hidden="true" tabindex="-1"></a>gapminder<span class="sc">$</span>continent<span class="ot">&lt;-</span><span class="fu">as.factor</span>(gapminder<span class="sc">$</span>continent)</span>
<span id="cb191-2"><a href="exploring-data-frames.html#cb191-2" aria-hidden="true" tabindex="-1"></a>new_row<span class="ot">&lt;-</span><span class="fu">list</span>(<span class="st">&#39;Norway&#39;</span>, <span class="dv">2016</span>, <span class="dv">500000</span>, <span class="st">&#39;Nordic&#39;</span>, <span class="fl">80.3</span>, <span class="fl">49400.0</span>, <span class="cn">FALSE</span>)</span>
<span id="cb191-3"><a href="exploring-data-frames.html#cb191-3" aria-hidden="true" tabindex="-1"></a>gapminder_norway<span class="ot">&lt;-</span><span class="fu">rbind</span>(gapminder, new_row)</span></code></pre></div>
<pre><code>## Warning in `[&lt;-.factor`(`*tmp*`, ri, value = &quot;Nordic&quot;): invalid factor level, NA generated</code></pre>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="exploring-data-frames.html#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(gapminder_norway)</span></code></pre></div>
<pre><code>##       country year      pop continent lifeExp  gdpPercap below_average
## 1700 Zimbabwe 1987  9216418    Africa  62.351   706.1573          TRUE
## 1701 Zimbabwe 1992 10704340    Africa  60.377   693.4208          TRUE
## 1702 Zimbabwe 1997 11404948    Africa  46.809   792.4500          TRUE
## 1703 Zimbabwe 2002 11926563    Africa  39.989   672.0386          TRUE
## 1704 Zimbabwe 2007 12311143    Africa  43.487   469.7093          TRUE
## 1705   Norway 2016   500000      &lt;NA&gt;  80.300 49400.0000         FALSE</code></pre>
<p>You’ll notice that this time, the binding still works, but R gives us a warning. To see what’s going on, we need to learn a bit more about factors.</p>
</div>
<div id="factors-1" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Factors</h2>
<p>The thing to note here is that in factor, each different value represents what is called a level. In our case, the factor “continent” has 5 levels: “Africa”, “Americas”, “Asia”, “Europe”, and “Oceania.” R will only accept values that match one of the levels. If you add a new row that has a different value for continent (such as Nordic in our case), it will become NA.</p>
<p>More specifically, the warning was telling us that we unsuccessfully added “Nordic” to our continent factor, but 2016 (a numeric), 5000000 (a numeric), 80.3 (a numeric), 49400.0 (a numeric) and FALSE (a logical) were successfully added to country, year, pop, lifeExp, gdpPercap and below_average respectively, since those variables are not factors.</p>
<p>To successfully add a gapminder row with a “Nordic” continent, we can add “Nordic” as a level of the factor.</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="exploring-data-frames.html#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Nordic as a level of the factor</span></span>
<span id="cb195-2"><a href="exploring-data-frames.html#cb195-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(gapminder<span class="sc">$</span>continent)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fu">levels</span>(gapminder<span class="sc">$</span>continent), <span class="st">&quot;Nordic&quot;</span>)</span>
<span id="cb195-3"><a href="exploring-data-frames.html#cb195-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Confirm it&#39;s been added</span></span>
<span id="cb195-4"><a href="exploring-data-frames.html#cb195-4" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(gapminder<span class="sc">$</span>continent)</span></code></pre></div>
<pre><code>## [1] &quot;Africa&quot;   &quot;Americas&quot; &quot;Asia&quot;     &quot;Europe&quot;   &quot;Oceania&quot;  &quot;Nordic&quot;</code></pre>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="exploring-data-frames.html#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the row to gapminder by defining</span></span>
<span id="cb197-2"><a href="exploring-data-frames.html#cb197-2" aria-hidden="true" tabindex="-1"></a><span class="co"># list on the fly</span></span>
<span id="cb197-3"><a href="exploring-data-frames.html#cb197-3" aria-hidden="true" tabindex="-1"></a>gapminder_norway<span class="ot">&lt;-</span><span class="fu">rbind</span>(gapminder,</span>
<span id="cb197-4"><a href="exploring-data-frames.html#cb197-4" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">list</span>(<span class="st">&#39;Norway&#39;</span>, <span class="dv">2016</span>, <span class="dv">5000000</span>, <span class="st">&#39;Nordic&#39;</span>, <span class="fl">80.3</span>,<span class="fl">49400.0</span>, <span class="cn">FALSE</span>))</span></code></pre></div>
<p>Now, let’s confirm that the row has been added and that the factor column doesn’t cause problems:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="exploring-data-frames.html#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(gapminder_norway)</span></code></pre></div>
<pre><code>##       country year      pop continent lifeExp  gdpPercap below_average
## 1700 Zimbabwe 1987  9216418    Africa  62.351   706.1573          TRUE
## 1701 Zimbabwe 1992 10704340    Africa  60.377   693.4208          TRUE
## 1702 Zimbabwe 1997 11404948    Africa  46.809   792.4500          TRUE
## 1703 Zimbabwe 2002 11926563    Africa  39.989   672.0386          TRUE
## 1704 Zimbabwe 2007 12311143    Africa  43.487   469.7093          TRUE
## 1705   Norway 2016  5000000    Nordic  80.300 49400.0000         FALSE</code></pre>
<p>To successfully add the row, our options were to either work with the character vector, which makes adding rows less cumbersome, but doesn’t include the useful categories of the factor; alternatively, we could use a factor variable, in which case adding a new row will take a bit more effort to babysit the factor levels. The option you choose will likely depend on the context of the task at hand.</p>
</div>
<div id="appending-to-a-data-frame" class="section level2" number="5.4">
<h2><span class="header-section-number">5.4</span> Appending to a data frame</h2>
<p>The key to remember when adding data to a data frame is that columns are vectors and rows are lists. We can also glue two data frames together with <code>rbind</code>:</p>
<p>Let’s say we want to stack gapminder on top of itself, or in other words, append another equivalent gapminder dataset to the one that already exists.</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="exploring-data-frames.html#cb200-1" aria-hidden="true" tabindex="-1"></a>gapminder<span class="ot">&lt;-</span><span class="fu">rbind</span>(gapminder, gapminder)</span>
<span id="cb200-2"><a href="exploring-data-frames.html#cb200-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Having stacked two gapminder datasets on top of each other, </span></span>
<span id="cb200-3"><a href="exploring-data-frames.html#cb200-3" aria-hidden="true" tabindex="-1"></a><span class="co"># we&#39;d now expect twice the number of rows as in the original dataset </span></span>
<span id="cb200-4"><a href="exploring-data-frames.html#cb200-4" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(gapminder)</span></code></pre></div>
<pre><code>## [1] 3408</code></pre>
<p>Let’s take a look at the dataset:</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="exploring-data-frames.html#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(gapminder, <span class="at">n=</span><span class="dv">3</span>)</span></code></pre></div>
<pre><code>##       country year      pop continent lifeExp gdpPercap below_average
## 3406 Zimbabwe 1997 11404948    Africa  46.809  792.4500          TRUE
## 3407 Zimbabwe 2002 11926563    Africa  39.989  672.0386          TRUE
## 3408 Zimbabwe 2007 12311143    Africa  43.487  469.7093          TRUE</code></pre>
<p>If the row names are unnecessarily complicated and you want to remove them and have R rename them sequentially, you can use the following:</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="exploring-data-frames.html#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(gapminder)<span class="ot">&lt;-</span><span class="cn">NULL</span></span>
<span id="cb204-2"><a href="exploring-data-frames.html#cb204-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(gapminder)</span></code></pre></div>
<pre><code>##       country year      pop continent lifeExp gdpPercap below_average
## 1 Afghanistan 1952  8425333      Asia  28.801  779.4453          TRUE
## 2 Afghanistan 1957  9240934      Asia  30.332  820.8530          TRUE
## 3 Afghanistan 1962 10267083      Asia  31.997  853.1007          TRUE
## 4 Afghanistan 1967 11537966      Asia  34.020  836.1971          TRUE
## 5 Afghanistan 1972 13079460      Asia  36.088  739.9811          TRUE
## 6 Afghanistan 1977 14880372      Asia  38.438  786.1134          TRUE</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-structures.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="subsetting-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/aranganath24/dc_gis_practice/edit/master/05-exploring-dataframes.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/aranganath24/dc_gis_practice/blob/master/05-exploring-dataframes.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
