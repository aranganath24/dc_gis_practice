<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Subsetting Data | Introduction to R for Geospatial Data</title>
  <meta name="description" content="6 Subsetting Data | Introduction to R for Geospatial Data" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Subsetting Data | Introduction to R for Geospatial Data" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Subsetting Data | Introduction to R for Geospatial Data" />
  
  
  

<meta name="author" content="Aditya Ranganath" />


<meta name="date" content="2021-11-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="exploring-data-frames.html"/>
<link rel="next" href="dataframe-manipulation-with-dplyr.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R-Geospatial</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html"><i class="fa fa-check"></i><b>2</b> Introduction to R and R Studio</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#introduction-to-r"><i class="fa fa-check"></i><b>2.1</b> Introduction to R</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#using-r-as-a-calculator"><i class="fa fa-check"></i><b>2.2</b> Using R as a calculator</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#comparing-things"><i class="fa fa-check"></i><b>2.3</b> Comparing things</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#variables-and-assignment"><i class="fa fa-check"></i><b>2.4</b> Variables and assignment</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#installing-packages"><i class="fa fa-check"></i><b>2.5</b> Installing packages</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="project-management-with-r-studio.html"><a href="project-management-with-r-studio.html"><i class="fa fa-check"></i><b>3</b> Project Management With R Studio</a></li>
<li class="chapter" data-level="4" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>4</b> Data Structures</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-structures.html"><a href="data-structures.html#data-types"><i class="fa fa-check"></i><b>4.1</b> Data Types</a></li>
<li class="chapter" data-level="4.2" data-path="data-structures.html"><a href="data-structures.html#vectors-and-type-coercion"><i class="fa fa-check"></i><b>4.2</b> Vectors and Type Coercion</a></li>
<li class="chapter" data-level="4.3" data-path="data-structures.html"><a href="data-structures.html#factors"><i class="fa fa-check"></i><b>4.3</b> Factors</a></li>
<li class="chapter" data-level="4.4" data-path="data-structures.html"><a href="data-structures.html#lists"><i class="fa fa-check"></i><b>4.4</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html"><i class="fa fa-check"></i><b>5</b> Exploring Data Frames</a>
<ul>
<li class="chapter" data-level="5.1" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html#realistic-example"><i class="fa fa-check"></i><b>5.1</b> Realistic Example</a></li>
<li class="chapter" data-level="5.2" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html#adding-columns-and-rows-in-data-frames"><i class="fa fa-check"></i><b>5.2</b> Adding columns and rows in data frames</a></li>
<li class="chapter" data-level="5.3" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html#factors-1"><i class="fa fa-check"></i><b>5.3</b> Factors</a></li>
<li class="chapter" data-level="5.4" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html#appending-to-a-data-frame"><i class="fa fa-check"></i><b>5.4</b> Appending to a data frame</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="subsetting-data.html"><a href="subsetting-data.html"><i class="fa fa-check"></i><b>6</b> Subsetting Data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="subsetting-data.html"><a href="subsetting-data.html#accessing-elements-using-their-indices"><i class="fa fa-check"></i><b>6.1</b> Accessing elements using their indices</a></li>
<li class="chapter" data-level="6.2" data-path="subsetting-data.html"><a href="subsetting-data.html#skipping-and-removing-elements"><i class="fa fa-check"></i><b>6.2</b> Skipping and removing elements</a></li>
<li class="chapter" data-level="6.3" data-path="subsetting-data.html"><a href="subsetting-data.html#subsetting-by-name"><i class="fa fa-check"></i><b>6.3</b> Subsetting by name</a></li>
<li class="chapter" data-level="6.4" data-path="subsetting-data.html"><a href="subsetting-data.html#subsetting-through-other-logical-operations"><i class="fa fa-check"></i><b>6.4</b> Subsetting through other logical operations</a></li>
<li class="chapter" data-level="6.5" data-path="subsetting-data.html"><a href="subsetting-data.html#data-frames"><i class="fa fa-check"></i><b>6.5</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html"><i class="fa fa-check"></i><b>7</b> Dataframe Manipulation with dplyr</a>
<ul>
<li class="chapter" data-level="7.1" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#the-dplyr-package"><i class="fa fa-check"></i><b>7.1</b> The dplyr package</a></li>
<li class="chapter" data-level="7.2" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-select"><i class="fa fa-check"></i><b>7.2</b> Using <code>select()</code></a></li>
<li class="chapter" data-level="7.3" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-filter"><i class="fa fa-check"></i><b>7.3</b> Using <code>filter</code></a></li>
<li class="chapter" data-level="7.4" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-group_by-and-summarize"><i class="fa fa-check"></i><b>7.4</b> Using <code>group_by()</code> and <code>summarize()</code></a></li>
<li class="chapter" data-level="7.5" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-summarize"><i class="fa fa-check"></i><b>7.5</b> Using <code>summarize</code></a></li>
<li class="chapter" data-level="7.6" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#count-and-n"><i class="fa fa-check"></i><b>7.6</b> <code>count()</code> and <code>n()</code></a></li>
<li class="chapter" data-level="7.7" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-mutate"><i class="fa fa-check"></i><b>7.7</b> Using <code>mutate()</code></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="introduction-to-visualization.html"><a href="introduction-to-visualization.html"><i class="fa fa-check"></i><b>8</b> Introduction to Visualization</a></li>
<li class="chapter" data-level="9" data-path="writing-data.html"><a href="writing-data.html"><i class="fa fa-check"></i><b>9</b> Writing Data</a>
<ul>
<li class="chapter" data-level="9.1" data-path="writing-data.html"><a href="writing-data.html#saving-plots"><i class="fa fa-check"></i><b>9.1</b> Saving plots</a></li>
<li class="chapter" data-level="9.2" data-path="writing-data.html"><a href="writing-data.html#writing-data-1"><i class="fa fa-check"></i><b>9.2</b> Writing data</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to R for Geospatial Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="subsetting-data" class="section level1" number="6">
<h1><span class="header-section-number">6</span> Subsetting Data</h1>
<p>R has many powerful subset operators. Mastering them will allow you to easily perform complex operations on any kind of dataset.</p>
<p>There are six different ways we can subset any kind of object, and three different subsetting operators for the different data structures.</p>
<p>Let’s start with the workhorse of R: a simple numeric vector.</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="subsetting-data.html#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We&#39;ll define a new vector x</span></span>
<span id="cb206-2"><a href="subsetting-data.html#cb206-2" aria-hidden="true" tabindex="-1"></a>x<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fl">5.4</span>, <span class="fl">6.2</span>, <span class="fl">7.1</span>, <span class="fl">4.8</span>, <span class="fl">7.5</span>)</span>
<span id="cb206-3"><a href="subsetting-data.html#cb206-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(x)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>, <span class="st">&#39;d&#39;</span>, <span class="st">&#39;e&#39;</span>)</span></code></pre></div>
<p>And then, let’s print out the vector:</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="subsetting-data.html#cb207-1" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##   a   b   c   d   e 
## 5.4 6.2 7.1 4.8 7.5</code></pre>
<p>Now that we’ve created a dummy vector to play with, let’s explore how we can access their contents.</p>
<div id="accessing-elements-using-their-indices" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Accessing elements using their indices</h2>
<p>To extract elements of a vector, we can use the index number associated with that element. For example, if we wanted to extract the first element of vector x, we can use the following notation:</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="subsetting-data.html#cb209-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>##   a 
## 5.4</code></pre>
<p>Let’s say we want to extract the fourth element:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="subsetting-data.html#cb211-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">4</span>]</span></code></pre></div>
<pre><code>##   d 
## 4.8</code></pre>
<p>The square brackets operator is actually a function. For vectors and matrices, it means “get me the nth element.”</p>
<p>We can ask for multiple elements at once. For example, let’s say we want the first and third elements:</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="subsetting-data.html#cb213-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]</span></code></pre></div>
<pre><code>##   a   c 
## 5.4 7.1</code></pre>
<p>We can also extract slices of the vector using this notation. Let’s say we want to extract elements 1 to 4:</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="subsetting-data.html#cb215-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span></code></pre></div>
<pre><code>##   a   b   c   d 
## 5.4 6.2 7.1 4.8</code></pre>
<p>Just to clarify the notation above, the <code>:</code> operator creates a sequence of numbers from the left elements to the right.</p>
<p>So, for example:</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="subsetting-data.html#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">4</span></span></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
<p>And that’s equivalent to the following:</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="subsetting-data.html#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
<p>We can also ask for the same element multiple times:</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="subsetting-data.html#cb221-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">3</span>)]</span></code></pre></div>
<pre><code>##   a   a   c 
## 5.4 5.4 7.1</code></pre>
<p>If we ask for an index that’s beyond the length of the vector, R will return a missing value:</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="subsetting-data.html#cb223-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">6</span>]</span></code></pre></div>
<pre><code>## &lt;NA&gt; 
##   NA</code></pre>
<p>This output is a vector of length one containing an NA, whose name is also NA.</p>
<p>If we ask for the 0th element, we get an empty vector:</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="subsetting-data.html#cb225-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">0</span>]</span></code></pre></div>
<pre><code>## named numeric(0)</code></pre>
<p>You’ve probably already picked up on this, but in R indexing begins with one. This is probably fairly intuitive especially if you’re new to programming, but if you’re coming to R from another programming language like C or Python where indexing begins with zero, this can take a bit of getting used to.</p>
</div>
<div id="skipping-and-removing-elements" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Skipping and removing elements</h2>
<p>If we use a negative number as the index of a vector, R will return every element except for the one specified. So, for example, if we use an index number of negative 2, R will omit element B from the output.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="subsetting-data.html#cb227-1" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="dv">2</span>]</span></code></pre></div>
<pre><code>##   a   c   d   e 
## 5.4 7.1 4.8 7.5</code></pre>
<p>It’s also possible to skip multiple elements. For example, let’s say we want to omit the first and fifth elements:</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="subsetting-data.html#cb229-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="sc">-</span><span class="dv">5</span>)]</span></code></pre></div>
<pre><code>##   b   c   d 
## 6.2 7.1 4.8</code></pre>
<p>One thing that can sometimes trip people up when trying to skip slices of a vector is the order of operations. For example, if we want to omit elements one through three in x, it might make sense to write the following:</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="subsetting-data.html#cb231-1" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span></code></pre></div>
<p>This gives a somewhat cryptic error. What’s happening is that R is reading the <code>-1:3</code> as a vector with integers ranging from -1 to 3. If we want to omit elements 1 through 3 in x, we have to wrap the <code>1:3</code> in brackets, so that the minus operator applies to the result:</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="subsetting-data.html#cb232-1" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)]</span></code></pre></div>
<pre><code>##   d   e 
## 4.8 7.5</code></pre>
<p>To remove elements from a vector, we need to assign the result back into the variable. So, let’s say we want to omit element D, and make this deletion permanent in x:</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="subsetting-data.html#cb234-1" aria-hidden="true" tabindex="-1"></a>x<span class="ot">&lt;-</span>x[<span class="sc">-</span><span class="dv">4</span>]</span>
<span id="cb234-2"><a href="subsetting-data.html#cb234-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##   a   b   c   e 
## 5.4 6.2 7.1 7.5</code></pre>
</div>
<div id="subsetting-by-name" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Subsetting by name</h2>
<p>We can extract elements by using their names, instead of extracting by index.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="subsetting-data.html#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s name a vector on the fly</span></span>
<span id="cb236-2"><a href="subsetting-data.html#cb236-2" aria-hidden="true" tabindex="-1"></a>x<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="at">a=</span><span class="fl">5.4</span>, <span class="at">b=</span><span class="fl">6.2</span>, <span class="at">c=</span><span class="fl">7.1</span>, <span class="at">d=</span><span class="fl">4.8</span>, <span class="at">e=</span><span class="fl">7.5</span>)</span>
<span id="cb236-3"><a href="subsetting-data.html#cb236-3" aria-hidden="true" tabindex="-1"></a><span class="co"># extract a and c by name</span></span>
<span id="cb236-4"><a href="subsetting-data.html#cb236-4" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;c&quot;</span>)]</span></code></pre></div>
<pre><code>##   a   c 
## 5.4 7.1</code></pre>
<p>This is usually a much more reliable way to subset objects: the position of various elements can often change when chaining together subsetting operations, but the names will always remain the same!</p>
</div>
<div id="subsetting-through-other-logical-operations" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> Subsetting through other logical operations</h2>
<p>We can also use any logical vector to subset. Let’s say we want to extract the third and fifth elements of x. We can extract these elements by passing a vector in which the third and fifth elements are set to “TRUE” and everything else is set to “FALSE”:</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="subsetting-data.html#cb238-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)]</span></code></pre></div>
<pre><code>##   c   e 
## 7.1 7.5</code></pre>
<p>Because comparison vectors (i.e. greater than, less than, equal to) evaluate to logical vectors, we can also use them to concisely subset vectors. For example, subsetting with “x greater than 7” gives us the same output as before:</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="subsetting-data.html#cb240-1" aria-hidden="true" tabindex="-1"></a>x[x<span class="sc">&gt;</span><span class="dv">7</span>]</span></code></pre></div>
<pre><code>##   c   e 
## 7.1 7.5</code></pre>
<p>Breaking this down a bit, what’s happening is that the statement first evaluates <code>x&gt;7</code>, which generates a corresponding logical vector <code>c(FALSE, FALSE, TRUE, FALSE, TRUE)</code>, and then selects the elements of x corresponding to the <code>TRUE</code> values.</p>
<p>We can use a comparison vector to mimic the previous method of indexing by name</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="subsetting-data.html#cb242-1" aria-hidden="true" tabindex="-1"></a><span class="co"># remember you have to use == rather than = for comparisons</span></span>
<span id="cb242-2"><a href="subsetting-data.html#cb242-2" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">names</span>(x)<span class="sc">==</span><span class="st">&quot;a&quot;</span>]</span></code></pre></div>
<pre><code>##   a 
## 5.4</code></pre>
</div>
<div id="data-frames" class="section level2" number="6.5">
<h2><span class="header-section-number">6.5</span> Data frames</h2>
<p>When extracting sections of data frames, recall that data frames are lists under the hood, so similar rules to the ones we’ve already discussed apply.</p>
<p>But the big difference is that data frames are two dimensional objects, so some additional considerations apply.</p>
<p>Using brackets with one argument to index will act the same way as for lists, where each list element corresponds to a column. The resulting object will be a data frame.</p>
<p>For example, let’s pull out the third column in gapminder as its own data frame:</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="subsetting-data.html#cb244-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(gapminder[<span class="dv">3</span>])</span></code></pre></div>
<pre><code>##        pop
## 1  8425333
## 2  9240934
## 3 10267083
## 4 11537966
## 5 13079460
## 6 14880372</code></pre>
<p>Similarly, double brackets will extract a single column as a vector:</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="subsetting-data.html#cb246-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(gapminder[[<span class="st">&quot;lifeExp&quot;</span>]])</span></code></pre></div>
<pre><code>## [1] 28.801 30.332 31.997 34.020 36.088 38.438</code></pre>
<p>The dollar-sign operator also provides a convenient way to extract columns by name:</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="subsetting-data.html#cb248-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extracts year column</span></span>
<span id="cb248-2"><a href="subsetting-data.html#cb248-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(gapminder<span class="sc">$</span>year)</span></code></pre></div>
<pre><code>## [1] 1952 1957 1962 1967 1972 1977</code></pre>
<p>To select specific data frame rows and or columns, you can enclose two arguments in brackets. For example, if we want to extract the first three rows of gapminder, we supply <code>1:3</code> as the first argument, and leave the second argument blank (which indicates we want all the columns):</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="subsetting-data.html#cb250-1" aria-hidden="true" tabindex="-1"></a>gapminder[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, ]</span></code></pre></div>
<pre><code>##       country year      pop continent lifeExp gdpPercap below_average
## 1 Afghanistan 1952  8425333      Asia  28.801  779.4453          TRUE
## 2 Afghanistan 1957  9240934      Asia  30.332  820.8530          TRUE
## 3 Afghanistan 1962 10267083      Asia  31.997  853.1007          TRUE</code></pre>
<p>If we subset a single row, the result will be a data frame (since the elements are mixed types)</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="subsetting-data.html#cb252-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extracts third row of gapminder</span></span>
<span id="cb252-2"><a href="subsetting-data.html#cb252-2" aria-hidden="true" tabindex="-1"></a>gapminder[<span class="dv">3</span>, ]</span></code></pre></div>
<pre><code>##       country year      pop continent lifeExp gdpPercap below_average
## 3 Afghanistan 1962 10267083      Asia  31.997  853.1007          TRUE</code></pre>
<p>But it’s important to emphase that while a single row will be a data frame, a single column will be extracted as a vector (but you can change that if you’d like by setting <code>drop=FALSE</code>)</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="exploring-data-frames.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dataframe-manipulation-with-dplyr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/aranganath24/dc_gis_practice/edit/master/06-subsetting-data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/aranganath24/dc_gis_practice/blob/master/06-subsetting-data.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
