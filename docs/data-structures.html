<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Data Structures | Introduction to R for Geospatial Data</title>
  <meta name="description" content="4 Data Structures | Introduction to R for Geospatial Data" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Data Structures | Introduction to R for Geospatial Data" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Data Structures | Introduction to R for Geospatial Data" />
  
  
  

<meta name="author" content="Aditya Ranganath" />


<meta name="date" content="2021-11-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="project-management-with-r-studio.html"/>
<link rel="next" href="exploring-data-frames.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R-Geospatial</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html"><i class="fa fa-check"></i><b>2</b> Introduction to R and R Studio</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#introduction-to-r"><i class="fa fa-check"></i><b>2.1</b> Introduction to R</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#using-r-as-a-calculator"><i class="fa fa-check"></i><b>2.2</b> Using R as a calculator</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#comparing-things"><i class="fa fa-check"></i><b>2.3</b> Comparing things</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#variables-and-assignment"><i class="fa fa-check"></i><b>2.4</b> Variables and assignment</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#installing-packages"><i class="fa fa-check"></i><b>2.5</b> Installing packages</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="project-management-with-r-studio.html"><a href="project-management-with-r-studio.html"><i class="fa fa-check"></i><b>3</b> Project Management With R Studio</a></li>
<li class="chapter" data-level="4" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>4</b> Data Structures</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-structures.html"><a href="data-structures.html#data-types"><i class="fa fa-check"></i><b>4.1</b> Data Types</a></li>
<li class="chapter" data-level="4.2" data-path="data-structures.html"><a href="data-structures.html#vectors-and-type-coercion"><i class="fa fa-check"></i><b>4.2</b> Vectors and Type Coercion</a></li>
<li class="chapter" data-level="4.3" data-path="data-structures.html"><a href="data-structures.html#factors"><i class="fa fa-check"></i><b>4.3</b> Factors</a></li>
<li class="chapter" data-level="4.4" data-path="data-structures.html"><a href="data-structures.html#lists"><i class="fa fa-check"></i><b>4.4</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html"><i class="fa fa-check"></i><b>5</b> Exploring Data Frames</a>
<ul>
<li class="chapter" data-level="5.1" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html#realistic-example"><i class="fa fa-check"></i><b>5.1</b> Realistic Example</a></li>
<li class="chapter" data-level="5.2" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html#adding-columns-and-rows-in-data-frames"><i class="fa fa-check"></i><b>5.2</b> Adding columns and rows in data frames</a></li>
<li class="chapter" data-level="5.3" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html#factors-1"><i class="fa fa-check"></i><b>5.3</b> Factors</a></li>
<li class="chapter" data-level="5.4" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html#appending-to-a-data-frame"><i class="fa fa-check"></i><b>5.4</b> Appending to a data frame</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="subsetting-data.html"><a href="subsetting-data.html"><i class="fa fa-check"></i><b>6</b> Subsetting Data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="subsetting-data.html"><a href="subsetting-data.html#accessing-elements-using-their-indices"><i class="fa fa-check"></i><b>6.1</b> Accessing elements using their indices</a></li>
<li class="chapter" data-level="6.2" data-path="subsetting-data.html"><a href="subsetting-data.html#skipping-and-removing-elements"><i class="fa fa-check"></i><b>6.2</b> Skipping and removing elements</a></li>
<li class="chapter" data-level="6.3" data-path="subsetting-data.html"><a href="subsetting-data.html#subsetting-by-name"><i class="fa fa-check"></i><b>6.3</b> Subsetting by name</a></li>
<li class="chapter" data-level="6.4" data-path="subsetting-data.html"><a href="subsetting-data.html#subsetting-through-other-logical-operations"><i class="fa fa-check"></i><b>6.4</b> Subsetting through other logical operations</a></li>
<li class="chapter" data-level="6.5" data-path="subsetting-data.html"><a href="subsetting-data.html#data-frames"><i class="fa fa-check"></i><b>6.5</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html"><i class="fa fa-check"></i><b>7</b> Dataframe Manipulation with dplyr</a>
<ul>
<li class="chapter" data-level="7.1" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#the-dplyr-package"><i class="fa fa-check"></i><b>7.1</b> The dplyr package</a></li>
<li class="chapter" data-level="7.2" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-select"><i class="fa fa-check"></i><b>7.2</b> Using <code>select()</code></a></li>
<li class="chapter" data-level="7.3" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-filter"><i class="fa fa-check"></i><b>7.3</b> Using <code>filter</code></a></li>
<li class="chapter" data-level="7.4" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-group_by-and-summarize"><i class="fa fa-check"></i><b>7.4</b> Using <code>group_by()</code> and <code>summarize()</code></a></li>
<li class="chapter" data-level="7.5" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-summarize"><i class="fa fa-check"></i><b>7.5</b> Using <code>summarize</code></a></li>
<li class="chapter" data-level="7.6" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#count-and-n"><i class="fa fa-check"></i><b>7.6</b> <code>count()</code> and <code>n()</code></a></li>
<li class="chapter" data-level="7.7" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-mutate"><i class="fa fa-check"></i><b>7.7</b> Using <code>mutate()</code></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="introduction-to-visualization.html"><a href="introduction-to-visualization.html"><i class="fa fa-check"></i><b>8</b> Introduction to Visualization</a></li>
<li class="chapter" data-level="9" data-path="writing-data.html"><a href="writing-data.html"><i class="fa fa-check"></i><b>9</b> Writing Data</a>
<ul>
<li class="chapter" data-level="9.1" data-path="writing-data.html"><a href="writing-data.html#saving-plots"><i class="fa fa-check"></i><b>9.1</b> Saving plots</a></li>
<li class="chapter" data-level="9.2" data-path="writing-data.html"><a href="writing-data.html#writing-data-1"><i class="fa fa-check"></i><b>9.2</b> Writing data</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to R for Geospatial Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-structures" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Data Structures</h1>
<p>One of R’s most powerful features is its ability to deal with tabular data, of the sort that can be displayed in a spreadsheet or CSV file.</p>
<p>Let’s start by downloading and reading in the file <code>nordic-data.csv</code>. We’ll save this data as an object named <code>nordic</code>.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="data-structures.html#cb40-1" aria-hidden="true" tabindex="-1"></a>nordic<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">&quot;nordic-data.csv&quot;</span>) </span></code></pre></div>
<p>Note that I was able to read in the data using just <code>nordic-data.csv</code> as the argument to the <code>read.csv</code> function (without any additional information on the file path) since I’m already in the working directory that contains the data.</p>
<p>The <code>read.csv</code> function is one of the most commonly used functions for reading in CSV files, which is often the file format that raw data comes in. If you’re data is in a different format, chances are that there is a function to read that data in as well, and this can usually be found through a quick Google search. But <code>read.csv</code> is the workhorse, and that’s what we’ll use in this lesson. As with any other function, when you’re working in R Studio, you can learn more about a function by typing a question mark followed by the name of the function.</p>
<p>Now that we’ve read in and assigned our dataset to a variable, we can begin exploring our dataset right away. Let’s pull out some of the dataset’s columns by specifying those columns using the <code>$</code> operator:</p>
<p>Let’s start by pulling out the “country” column from the <code>nordic</code> dataset:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="data-structures.html#cb41-1" aria-hidden="true" tabindex="-1"></a>nordic<span class="sc">$</span>country</span></code></pre></div>
<pre><code>## [1] &quot;Denmark&quot; &quot;Sweden&quot;  &quot;Norway&quot;</code></pre>
<p>And the life expectancy variable ("lifeExp):</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="data-structures.html#cb43-1" aria-hidden="true" tabindex="-1"></a>nordic<span class="sc">$</span>lifeExp</span></code></pre></div>
<pre><code>## [1] 77.2 80.0 79.0</code></pre>
<p>We can also do other operations on the columns. For example, if we discovered that we made a mistake, and that the life expectancy is actually two years higher, we can take the “lifeExp” column and add two to all the observations:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="data-structures.html#cb45-1" aria-hidden="true" tabindex="-1"></a>nordic<span class="sc">$</span>lifeExp <span class="sc">+</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 79.2 82.0 81.0</code></pre>
<p>What if we do something similar, and add up the “lifeExp” and “country” columns from the <code>nordic</code> dataset?</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="data-structures.html#cb47-1" aria-hidden="true" tabindex="-1"></a>nordic<span class="sc">$</span>lifeExp <span class="sc">+</span> nordic<span class="sc">$</span>country</span></code></pre></div>
<p>This will return an error that complains about a non-numeric argument to a binary operator. It’s important to understand what exactly this means in order to successfully analyze data in R.</p>
<div id="data-types" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Data Types</h2>
<p>You might have guessed that the error arises because the calculation <code>77.2</code> plus <code>Denmark</code> is nonsense. If so, you’re correct, and already have some intuition for an important concept in programming called data classes. We can use the <code>class</code> function to ask what class of data something is. For example, to see what class the “lifeExp” variable is, we can type the following:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="data-structures.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(nordic<span class="sc">$</span>lifeExp)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>We can see that it’s numeric.</p>
<p>There are 6 main data types of classes: <code>numeric</code>, <code>integer</code>, <code>complex</code>, <code>logical</code>, <code>character</code>, and <code>factor</code>.</p>
<p>Let’s see some more examples.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="data-structures.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fl">3.14</span>)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="data-structures.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(1L) <span class="co"># The L suffix forces the number to be an integer, since by default R uses float numbers</span></span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="data-structures.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="dv">1</span><span class="sc">+</span>1i)</span></code></pre></div>
<pre><code>## [1] &quot;complex&quot;</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="data-structures.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="data-structures.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="st">&#39;banana&#39;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="data-structures.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">factor</span>(<span class="st">&#39;banana&#39;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<p>No matter how complicated our analyses become, all data in R is interpreted as a specific data class. That strictness has important consequences; thing won’t run as expected or at all if there’s a mismatch between the class of data you’re working with and what R is expecting. So, it’s important to be aware of the class your data is stored in, to avoid any errors or surprises.</p>
<p>Let’s take a look at another example of why it’s important to be aware of data classes. Let’s say that a user has added new details of life expectancy. This information is in the <code>nordic-data-2.csv</code>. We’ll load the new nordic data as <code>nordic_2</code> and check the class of the data in the <code>lifeExp</code> column:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="data-structures.html#cb62-1" aria-hidden="true" tabindex="-1"></a>nordic_2<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">&quot;nordic-data-2.csv&quot;</span>)</span>
<span id="cb62-2"><a href="data-structures.html#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(nordic_2<span class="sc">$</span>lifeExp)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>Even though the <code>lifeExp</code> data looks like it’s numeric, R is treating it as character data under the hood. If we try to do the same math we did on them before, we’ll get into trouble:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="data-structures.html#cb64-1" aria-hidden="true" tabindex="-1"></a>nordic_2<span class="sc">$</span>lifeExp <span class="sc">+</span> <span class="dv">2</span></span></code></pre></div>
<p>Running that code will result in the “non-numeric argument to binary operator” that we encountered before.</p>
<p>What happened? When R reads a csv file into one of these tables, it insists that everything in a column be the same class; if it can’t understand everything in the column as numeric, then nothing gets to be numeric.</p>
<p>The table that R loaded our nordic data into is something called a dataframe, and it’s our first example of something called a data structure, which is essentially a structure that R knows how to build out of the basic data types.</p>
<p>We can see that it is a dataframe by calling the class() function on it:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="data-structures.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(nordic)</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p>In order to successfully use our data in R, we need to understand what the basic data structures are, and how they behave.</p>
</div>
<div id="vectors-and-type-coercion" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Vectors and Type Coercion</h2>
<p>To better understand the behavior we’ve just observed, let’s meet another of the data structures: the vector.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="data-structures.html#cb67-1" aria-hidden="true" tabindex="-1"></a>my_vector<span class="ot">&lt;-</span><span class="fu">vector</span>(<span class="at">length=</span><span class="dv">3</span>)</span>
<span id="cb67-2"><a href="data-structures.html#cb67-2" aria-hidden="true" tabindex="-1"></a>my_vector</span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE</code></pre>
<p>A vector in R is essentially an ordered list of things, with the special condition that everything in the vector must be of the same basic data type. If you don’t choose the data type, it’ll default to <code>logical</code>; or, you can declare the empty vector of whatever type you like. For example, if we want to create an empty character vector, we can type the following:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="data-structures.html#cb69-1" aria-hidden="true" tabindex="-1"></a>another_vector<span class="ot">&lt;-</span><span class="fu">vector</span>(<span class="at">mode=</span><span class="st">&#39;character&#39;</span>, <span class="at">length=</span><span class="dv">3</span>)</span>
<span id="cb69-2"><a href="data-structures.html#cb69-2" aria-hidden="true" tabindex="-1"></a>another_vector </span></code></pre></div>
<pre><code>## [1] &quot;&quot; &quot;&quot; &quot;&quot;</code></pre>
<p>If you want to check if something is a vector, you can use sthe <code>str</code> function, which is short for “structure”:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="data-structures.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(another_vector)</span></code></pre></div>
<pre><code>##  chr [1:3] &quot;&quot; &quot;&quot; &quot;&quot;</code></pre>
<p>This output indicates the basic data type found in this vector (in this case, <code>chr</code>), as well as the number of things in the vector (or more precisely, the indexes which in this case are <code>1:3</code>), and a few examples of what’s actually in the vector (empty character strings, in this case).</p>
<p>If we similarly pass the <code>lifeExp</code> column of <code>nordic</code> to the <code>str</code> function:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="data-structures.html#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(nordic<span class="sc">$</span>lifeExp)</span></code></pre></div>
<pre><code>##  num [1:3] 77.2 80 79</code></pre>
<p>We see that <code>nordic$lifeExp</code> is a vector too. In fact, the columns of data we load into R data frames are all vectors, and that’s the root cause of why R forces everything in a column to be the same basic data type.</p>
<p>You can also use make vectors with explicit contents using the <code>combine</code> function. For example, let’s say we want to make a vector with the numbers 2,6, and 3:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="data-structures.html#cb75-1" aria-hidden="true" tabindex="-1"></a>combine_vector<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">6</span>,<span class="dv">3</span>)</span>
<span id="cb75-2"><a href="data-structures.html#cb75-2" aria-hidden="true" tabindex="-1"></a>combine_vector</span></code></pre></div>
<pre><code>## [1] 2 6 3</code></pre>
<p>Let’s try another one. Given what we’ve learned so far, what do you think the following will produce?</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="data-structures.html#cb77-1" aria-hidden="true" tabindex="-1"></a>quiz_vector<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">6</span>,<span class="st">&#39;3&#39;</span>)</span></code></pre></div>
<p>When we open that object,</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="data-structures.html#cb78-1" aria-hidden="true" tabindex="-1"></a>quiz_vector</span></code></pre></div>
<pre><code>## [1] &quot;2&quot; &quot;6&quot; &quot;3&quot;</code></pre>
<p>We see that all of the elements in the vector are strings. This is an example of something called type coercion, which is often the source of surprises that can frustrate your data analysis. Type coercion is an important reason why we need to be aware of the basic data types and how R will interpret them.</p>
<p>Let’s take a look at another example that shows how, when R encounters a mix of types (here numeric and character) to be combined into a single vector, it will force them all to be the same type. Consider, for example, a vector with character and logical elements:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="data-structures.html#cb80-1" aria-hidden="true" tabindex="-1"></a>coercion_vector<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&#39;a&#39;</span>, <span class="cn">TRUE</span>)</span>
<span id="cb80-2"><a href="data-structures.html#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="co"># When we inspect the vector, we can see that the elements have been coerced into character elements:</span></span>
<span id="cb80-3"><a href="data-structures.html#cb80-3" aria-hidden="true" tabindex="-1"></a>coercion_vector</span></code></pre></div>
<pre><code>## [1] &quot;a&quot;    &quot;TRUE&quot;</code></pre>
<p>Let’s try another vector, this time with numeric and logical elements:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="data-structures.html#cb82-1" aria-hidden="true" tabindex="-1"></a>another_coercion_vector<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">TRUE</span>)</span>
<span id="cb82-2"><a href="data-structures.html#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="co"># When we open this vector, we see both elements coerced to numeric</span></span>
<span id="cb82-3"><a href="data-structures.html#cb82-3" aria-hidden="true" tabindex="-1"></a>another_coercion_vector</span></code></pre></div>
<pre><code>## [1] 0 1</code></pre>
<p>The coercion rules go from <code>logical</code> to <code>integer</code> to <code>numeric</code> to <code>complex</code> to <code>character</code>. In other words, that sequence essentially defines a flowchart that specifies how elements with different classes will be transformed during the coercion process.</p>
<p>You can try to force coercion against this flow using the <code>as.</code> functions:</p>
<p>For example, let’s start with a character vector:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="data-structures.html#cb84-1" aria-hidden="true" tabindex="-1"></a>character_vector_example<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&#39;0&#39;</span>, <span class="st">&#39;2&#39;</span>, <span class="st">&#39;4&#39;</span>)</span>
<span id="cb84-2"><a href="data-structures.html#cb84-2" aria-hidden="true" tabindex="-1"></a>character_vector_example</span></code></pre></div>
<pre><code>## [1] &quot;0&quot; &quot;2&quot; &quot;4&quot;</code></pre>
<p>Now, let’s say we want to coerce this character vector into a numeric one. We can do so with the <code>as.numeric</code> function:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="data-structures.html#cb86-1" aria-hidden="true" tabindex="-1"></a>character_coerced_to_numeric<span class="ot">&lt;-</span><span class="fu">as.numeric</span>(character_vector_example)</span>
<span id="cb86-2"><a href="data-structures.html#cb86-2" aria-hidden="true" tabindex="-1"></a>character_coerced_to_numeric</span></code></pre></div>
<pre><code>## [1] 0 2 4</code></pre>
<p>Alternatively, let’s say we want to coerce a numeric vector into a logical one. We can do so with the <code>as.logical</code> function.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="data-structures.html#cb88-1" aria-hidden="true" tabindex="-1"></a>numeric_coerced_to_logical<span class="ot">&lt;-</span><span class="fu">as.logical</span>(character_coerced_to_numeric)</span>
<span id="cb88-2"><a href="data-structures.html#cb88-2" aria-hidden="true" tabindex="-1"></a>numeric_coerced_to_logical</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE</code></pre>
<p>The upshot of all this is that some surprising things can happen when R forces one basic data type into another. The central takeaway is that if your data doesn’t look like what you thought it would look like, or R throws an unexpected error, type coercion may be the culprit. In order to avoid potentially nasty surprises, you want to make sure that everything is the same type in your vectors and your columns of data frames.</p>
<p>Continuing on with our discussion of vectors, the combine function <code>c()</code> will also append things to an existing vector.</p>
<p>Let’s start with a new vector named <code>ab_vector</code> with the elements <code>a</code> and <code>b</code>:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="data-structures.html#cb90-1" aria-hidden="true" tabindex="-1"></a>ab_vector<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>)</span>
<span id="cb90-2"><a href="data-structures.html#cb90-2" aria-hidden="true" tabindex="-1"></a>ab_vector</span></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot;</code></pre>
<p>Now, let’s make a new vector and append <code>ab_vector</code> to it:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="data-structures.html#cb92-1" aria-hidden="true" tabindex="-1"></a>combine_example<span class="ot">&lt;-</span><span class="fu">c</span>(ab_vector, <span class="st">&#39;DC&#39;</span>)</span>
<span id="cb92-2"><a href="data-structures.html#cb92-2" aria-hidden="true" tabindex="-1"></a>combine_example</span></code></pre></div>
<pre><code>## [1] &quot;a&quot;  &quot;b&quot;  &quot;DC&quot;</code></pre>
<p>Similarly, you can also make series of numbers</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="data-structures.html#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This defines a vector with numeric elements from one to ten</span></span>
<span id="cb94-2"><a href="data-structures.html#cb94-2" aria-hidden="true" tabindex="-1"></a>my_series<span class="ot">&lt;-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb94-3"><a href="data-structures.html#cb94-3" aria-hidden="true" tabindex="-1"></a>my_series</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>We can do the same thing using the <code>seq</code> function:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="data-structures.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>And, we can also explicitly define the upper and lower bounds of the sequence, and the units by which the numbers increase or decrease. For example, if we want a sequence starting at 1 and ending at 10 in increments of 0.1 we can type the following:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="data-structures.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">10</span>, <span class="at">by=</span><span class="fl">0.1</span>)</span></code></pre></div>
<pre><code>##  [1]  1.0  1.1  1.2  1.3  1.4  1.5  1.6  1.7  1.8  1.9  2.0  2.1  2.2  2.3  2.4  2.5  2.6  2.7  2.8
## [20]  2.9  3.0  3.1  3.2  3.3  3.4  3.5  3.6  3.7  3.8  3.9  4.0  4.1  4.2  4.3  4.4  4.5  4.6  4.7
## [39]  4.8  4.9  5.0  5.1  5.2  5.3  5.4  5.5  5.6  5.7  5.8  5.9  6.0  6.1  6.2  6.3  6.4  6.5  6.6
## [58]  6.7  6.8  6.9  7.0  7.1  7.2  7.3  7.4  7.5  7.6  7.7  7.8  7.9  8.0  8.1  8.2  8.3  8.4  8.5
## [77]  8.6  8.7  8.8  8.9  9.0  9.1  9.2  9.3  9.4  9.5  9.6  9.7  9.8  9.9 10.0</code></pre>
<p>It’s also possible to use functions to ask and answer questions about vectors.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="data-structures.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Start with a vector of numbers from 1 to 10</span></span>
<span id="cb100-2"><a href="data-structures.html#cb100-2" aria-hidden="true" tabindex="-1"></a>sequence_example<span class="ot">&lt;-</span><span class="fu">seq</span>(<span class="dv">10</span>)</span>
<span id="cb100-3"><a href="data-structures.html#cb100-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s say we want to know the first two elements of this vector. We can type:</span></span>
<span id="cb100-4"><a href="data-structures.html#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(sequence_example, <span class="at">n=</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 1 2</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="data-structures.html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s say we want to know the last 4 elements of the vector</span></span>
<span id="cb102-2"><a href="data-structures.html#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(sequence_example, <span class="at">n=</span><span class="dv">4</span>)</span></code></pre></div>
<pre><code>## [1]  7  8  9 10</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="data-structures.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s say we want to know the length of the vector, or in other words the number of elements it has</span></span>
<span id="cb104-2"><a href="data-structures.html#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(sequence_example)</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="data-structures.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># And finally, let&#39;s say we want to know the vector&#39;s class:</span></span>
<span id="cb106-2"><a href="data-structures.html#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(sequence_example)</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<p>It’s useful to note that you can give names to elements in your vector:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="data-structures.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s start with a vector of integers from 5 to 8</span></span>
<span id="cb108-2"><a href="data-structures.html#cb108-2" aria-hidden="true" tabindex="-1"></a>my_example<span class="ot">&lt;-</span><span class="dv">5</span><span class="sc">:</span><span class="dv">8</span></span>
<span id="cb108-3"><a href="data-structures.html#cb108-3" aria-hidden="true" tabindex="-1"></a><span class="co"># We can supply names to the my_example vector elements by passing that vector through the &quot;names</span></span>
<span id="cb108-4"><a href="data-structures.html#cb108-4" aria-hidden="true" tabindex="-1"></a><span class="co"># function and then using a vector of names and the assignment operator to assign the names</span></span>
<span id="cb108-5"><a href="data-structures.html#cb108-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(my_example)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>)</span>
<span id="cb108-6"><a href="data-structures.html#cb108-6" aria-hidden="true" tabindex="-1"></a>my_example</span></code></pre></div>
<pre><code>## a b c d 
## 5 6 7 8</code></pre>
<p>If we want to print the names of the vector elements, we can pass the vector through the names function:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="data-structures.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(my_example)</span></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;</code></pre>
</div>
<div id="factors" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Factors</h2>
<p>We’ve already noted that columns in data frames are vectors. For example</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="data-structures.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the lifeExp column</span></span>
<span id="cb112-2"><a href="data-structures.html#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(nordic<span class="sc">$</span>lifeExp)</span></code></pre></div>
<pre><code>##  num [1:3] 77.2 80 79</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="data-structures.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Or the &quot;year&quot; column</span></span>
<span id="cb114-2"><a href="data-structures.html#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(nordic<span class="sc">$</span>year)</span></code></pre></div>
<pre><code>##  int [1:3] 2002 2002 2002</code></pre>
<p>That makes sense; but what about the country column?</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="data-structures.html#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(nordic<span class="sc">$</span>country)</span></code></pre></div>
<pre><code>##  chr [1:3] &quot;Denmark&quot; &quot;Sweden&quot; &quot;Norway&quot;</code></pre>
<p>This column is character at the moment, but categorical data is also often stored as a factor variable. Factors are another important data structure to understand. Factors look like character data, but have some additional properties that make them useful for representing categorical information. To get a sense of this, let’s make a vector of strings labeling nordic countries for all the countries in the study:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="data-structures.html#cb118-1" aria-hidden="true" tabindex="-1"></a>nordic_countries<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&#39;Norway&#39;</span>, <span class="st">&#39;Finland&#39;</span>, <span class="st">&#39;Denmark&#39;</span>, <span class="st">&#39;Iceland&#39;</span>, <span class="st">&#39;Sweden&#39;</span>)</span>
<span id="cb118-2"><a href="data-structures.html#cb118-2" aria-hidden="true" tabindex="-1"></a>nordic_countries</span></code></pre></div>
<pre><code>## [1] &quot;Norway&quot;  &quot;Finland&quot; &quot;Denmark&quot; &quot;Iceland&quot; &quot;Sweden&quot;</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="data-structures.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s examine the vector&#39;s structure</span></span>
<span id="cb120-2"><a href="data-structures.html#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(nordic_countries)</span></code></pre></div>
<pre><code>##  chr [1:5] &quot;Norway&quot; &quot;Finland&quot; &quot;Denmark&quot; &quot;Iceland&quot; &quot;Sweden&quot;</code></pre>
<p>We can turn a vector into a factor by passing the vector to the <code>factor</code> function:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="data-structures.html#cb122-1" aria-hidden="true" tabindex="-1"></a>categories<span class="ot">&lt;-</span><span class="fu">factor</span>(nordic_countries)</span>
<span id="cb122-2"><a href="data-structures.html#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Confirm that categories is a factor</span></span>
<span id="cb122-3"><a href="data-structures.html#cb122-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(categories)</span></code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="data-structures.html#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(categories)</span></code></pre></div>
<pre><code>##  Factor w/ 5 levels &quot;Denmark&quot;,&quot;Finland&quot;,..: 4 2 1 3 5</code></pre>
<p>This output suggests that there are 5 possible categories in the data, but R is doing something that may be surprising: instead of printing out the strings we gave it, we got back a bunch of numbers instead. R has replaced our human-readable categories with numbered indices under the hood; this is necessary, since many statistical calculations utilise such numerical representations for categorical data.</p>
<p>When doing statistical modeling, it’s important to know how these numbered indices correspond to our categorical variables, and to know what the baseline levels are. This is assumed to be the first factor, but by default factors are labeled in alphabetical order. You can explicitly control or change this labeling by specifying the levels.</p>
<p>For example,</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="data-structures.html#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s start with a new character vector called mydata</span></span>
<span id="cb126-2"><a href="data-structures.html#cb126-2" aria-hidden="true" tabindex="-1"></a>mydata<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;case&quot;</span>, <span class="st">&quot;control&quot;</span>, <span class="st">&quot;control&quot;</span>, <span class="st">&quot;case&quot;</span>)</span>
<span id="cb126-3"><a href="data-structures.html#cb126-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Then let&#39;s convert this character vector </span></span>
<span id="cb126-4"><a href="data-structures.html#cb126-4" aria-hidden="true" tabindex="-1"></a><span class="co"># into a factor, and specify the levels </span></span>
<span id="cb126-5"><a href="data-structures.html#cb126-5" aria-hidden="true" tabindex="-1"></a><span class="co"># such that &quot;control&quot;</span></span>
<span id="cb126-6"><a href="data-structures.html#cb126-6" aria-hidden="true" tabindex="-1"></a><span class="co"># is represented by 1, and &quot;case&quot; by 2</span></span>
<span id="cb126-7"><a href="data-structures.html#cb126-7" aria-hidden="true" tabindex="-1"></a>factor_ordering_example<span class="ot">&lt;-</span><span class="fu">factor</span>(mydata, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">&quot;control&quot;</span>, <span class="st">&quot;case&quot;</span>))</span></code></pre></div>
<p>Now, let’s inspect this object’s structure using <code>str</code>:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="data-structures.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(factor_ordering_example)</span></code></pre></div>
<pre><code>##  Factor w/ 2 levels &quot;control&quot;,&quot;case&quot;: 2 1 1 2</code></pre>
<p>This output confirms that “control” corresponds to one, and “case” corresponds to 2, as we intended.</p>
</div>
<div id="lists" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Lists</h2>
<p>Another data structure that’s important to be familiar with is the <code>list</code>. A list is in some ways simpler than the other types, since you can put anything you want in it.</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="data-structures.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a list with elements of various classes</span></span>
<span id="cb129-2"><a href="data-structures.html#cb129-2" aria-hidden="true" tabindex="-1"></a>list_example<span class="ot">&lt;-</span><span class="fu">list</span>(<span class="dv">1</span>, <span class="st">&quot;a&quot;</span>, <span class="cn">TRUE</span>, <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">6</span>,<span class="dv">7</span>))</span>
<span id="cb129-3"><a href="data-structures.html#cb129-3" aria-hidden="true" tabindex="-1"></a>list_example</span></code></pre></div>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] &quot;a&quot;
## 
## [[3]]
## [1] TRUE
## 
## [[4]]
## [1] 2 6 7</code></pre>
<p>Let’s try another one:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="data-structures.html#cb131-1" aria-hidden="true" tabindex="-1"></a>another_list<span class="ot">&lt;-</span><span class="fu">list</span>(<span class="at">title=</span><span class="st">&quot;Numbers&quot;</span>, <span class="at">numbers=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">data=</span><span class="cn">TRUE</span>)</span>
<span id="cb131-2"><a href="data-structures.html#cb131-2" aria-hidden="true" tabindex="-1"></a>another_list</span></code></pre></div>
<pre><code>## $title
## [1] &quot;Numbers&quot;
## 
## $numbers
##  [1]  1  2  3  4  5  6  7  8  9 10
## 
## $data
## [1] TRUE</code></pre>
<p>We can now use our understanding of lists to better understand how data frames are put together. Let’s compare the structure of <code>nordic</code> and <code>another_list</code>:</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="data-structures.html#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(nordic)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    3 obs. of  3 variables:
##  $ country: chr  &quot;Denmark&quot; &quot;Sweden&quot; &quot;Norway&quot;
##  $ year   : int  2002 2002 2002
##  $ lifeExp: num  77.2 80 79</code></pre>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="data-structures.html#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(another_list)</span></code></pre></div>
<pre><code>## List of 3
##  $ title  : chr &quot;Numbers&quot;
##  $ numbers: int [1:10] 1 2 3 4 5 6 7 8 9 10
##  $ data   : logi TRUE</code></pre>
<p>We can see that the output for these two objects look very similar. This is actually because data frames are lists “under the hood.” Data frames are actually a special case of lists where each element (the columns of the data frame) have the same lengths.</p>
<p>In our <code>nordic</code> example, we have an integer, a double, and a logical variable. As we’ve seen already, each column of data frame is a vector:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="data-structures.html#cb137-1" aria-hidden="true" tabindex="-1"></a>nordic<span class="sc">$</span>country</span></code></pre></div>
<pre><code>## [1] &quot;Denmark&quot; &quot;Sweden&quot;  &quot;Norway&quot;</code></pre>
<p>We can also extract columns through an alternative notation that specifies the column’s index:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="data-structures.html#cb139-1" aria-hidden="true" tabindex="-1"></a>nordic[,<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] &quot;Denmark&quot; &quot;Sweden&quot;  &quot;Norway&quot;</code></pre>
<p>If we want to inspect that column’s class:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="data-structures.html#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(nordic[,<span class="dv">1</span>])</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>And if we want to know the column’s structure:</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="data-structures.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(nordic[,<span class="dv">1</span>])</span></code></pre></div>
<pre><code>##  chr [1:3] &quot;Denmark&quot; &quot;Sweden&quot; &quot;Norway&quot;</code></pre>
<p>We can now turn to rows. Each row is an observation of different variables, and itself a data frame, and can therefore be composed of elements of different types:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="data-structures.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s inspect the first row</span></span>
<span id="cb145-2"><a href="data-structures.html#cb145-2" aria-hidden="true" tabindex="-1"></a>nordic[<span class="dv">1</span>,]</span></code></pre></div>
<pre><code>##   country year lifeExp
## 1 Denmark 2002    77.2</code></pre>
<p>Now, let’s see the first row’s class and confirm that it’s a data frame:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="data-structures.html#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(nordic[<span class="dv">1</span>,])</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p>And for more information, we can inspect its structure:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="data-structures.html#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(nordic[<span class="dv">1</span>,])</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    1 obs. of  3 variables:
##  $ country: chr &quot;Denmark&quot;
##  $ year   : int 2002
##  $ lifeExp: num 77.2</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="project-management-with-r-studio.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exploring-data-frames.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/aranganath24/dc_gis_practice/edit/master/04-data-structures.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/aranganath24/dc_gis_practice/blob/master/04-data-structures.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
