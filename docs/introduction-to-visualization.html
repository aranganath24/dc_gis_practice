<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8 Introduction to Visualization | Introduction to R for Geospatial Data</title>
  <meta name="description" content="8 Introduction to Visualization | Introduction to R for Geospatial Data" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="8 Introduction to Visualization | Introduction to R for Geospatial Data" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8 Introduction to Visualization | Introduction to R for Geospatial Data" />
  
  
  

<meta name="author" content="Aditya Ranganath" />


<meta name="date" content="2021-11-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="dataframe-manipulation-with-dplyr.html"/>
<link rel="next" href="writing-data.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R-Geospatial</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html"><i class="fa fa-check"></i><b>2</b> Introduction to R and R Studio</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#introduction-to-r"><i class="fa fa-check"></i><b>2.1</b> Introduction to R</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#using-r-as-a-calculator"><i class="fa fa-check"></i><b>2.2</b> Using R as a calculator</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#comparing-things"><i class="fa fa-check"></i><b>2.3</b> Comparing things</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#variables-and-assignment"><i class="fa fa-check"></i><b>2.4</b> Variables and assignment</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-r-and-r-studio.html"><a href="introduction-to-r-and-r-studio.html#installing-packages"><i class="fa fa-check"></i><b>2.5</b> Installing packages</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="project-management-with-r-studio.html"><a href="project-management-with-r-studio.html"><i class="fa fa-check"></i><b>3</b> Project Management With R Studio</a></li>
<li class="chapter" data-level="4" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>4</b> Data Structures</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-structures.html"><a href="data-structures.html#data-types"><i class="fa fa-check"></i><b>4.1</b> Data Types</a></li>
<li class="chapter" data-level="4.2" data-path="data-structures.html"><a href="data-structures.html#vectors-and-type-coercion"><i class="fa fa-check"></i><b>4.2</b> Vectors and Type Coercion</a></li>
<li class="chapter" data-level="4.3" data-path="data-structures.html"><a href="data-structures.html#factors"><i class="fa fa-check"></i><b>4.3</b> Factors</a></li>
<li class="chapter" data-level="4.4" data-path="data-structures.html"><a href="data-structures.html#lists"><i class="fa fa-check"></i><b>4.4</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html"><i class="fa fa-check"></i><b>5</b> Exploring Data Frames</a>
<ul>
<li class="chapter" data-level="5.1" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html#realistic-example"><i class="fa fa-check"></i><b>5.1</b> Realistic Example</a></li>
<li class="chapter" data-level="5.2" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html#adding-columns-and-rows-in-data-frames"><i class="fa fa-check"></i><b>5.2</b> Adding columns and rows in data frames</a></li>
<li class="chapter" data-level="5.3" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html#factors-1"><i class="fa fa-check"></i><b>5.3</b> Factors</a></li>
<li class="chapter" data-level="5.4" data-path="exploring-data-frames.html"><a href="exploring-data-frames.html#appending-to-a-data-frame"><i class="fa fa-check"></i><b>5.4</b> Appending to a data frame</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="subsetting-data.html"><a href="subsetting-data.html"><i class="fa fa-check"></i><b>6</b> Subsetting Data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="subsetting-data.html"><a href="subsetting-data.html#accessing-elements-using-their-indices"><i class="fa fa-check"></i><b>6.1</b> Accessing elements using their indices</a></li>
<li class="chapter" data-level="6.2" data-path="subsetting-data.html"><a href="subsetting-data.html#skipping-and-removing-elements"><i class="fa fa-check"></i><b>6.2</b> Skipping and removing elements</a></li>
<li class="chapter" data-level="6.3" data-path="subsetting-data.html"><a href="subsetting-data.html#subsetting-by-name"><i class="fa fa-check"></i><b>6.3</b> Subsetting by name</a></li>
<li class="chapter" data-level="6.4" data-path="subsetting-data.html"><a href="subsetting-data.html#subsetting-through-other-logical-operations"><i class="fa fa-check"></i><b>6.4</b> Subsetting through other logical operations</a></li>
<li class="chapter" data-level="6.5" data-path="subsetting-data.html"><a href="subsetting-data.html#data-frames"><i class="fa fa-check"></i><b>6.5</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html"><i class="fa fa-check"></i><b>7</b> Dataframe Manipulation with dplyr</a>
<ul>
<li class="chapter" data-level="7.1" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#the-dplyr-package"><i class="fa fa-check"></i><b>7.1</b> The dplyr package</a></li>
<li class="chapter" data-level="7.2" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-select"><i class="fa fa-check"></i><b>7.2</b> Using <code>select()</code></a></li>
<li class="chapter" data-level="7.3" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-filter"><i class="fa fa-check"></i><b>7.3</b> Using <code>filter</code></a></li>
<li class="chapter" data-level="7.4" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-group_by-and-summarize"><i class="fa fa-check"></i><b>7.4</b> Using <code>group_by()</code> and <code>summarize()</code></a></li>
<li class="chapter" data-level="7.5" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-summarize"><i class="fa fa-check"></i><b>7.5</b> Using <code>summarize</code></a></li>
<li class="chapter" data-level="7.6" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#count-and-n"><i class="fa fa-check"></i><b>7.6</b> <code>count()</code> and <code>n()</code></a></li>
<li class="chapter" data-level="7.7" data-path="dataframe-manipulation-with-dplyr.html"><a href="dataframe-manipulation-with-dplyr.html#using-mutate"><i class="fa fa-check"></i><b>7.7</b> Using <code>mutate()</code></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="introduction-to-visualization.html"><a href="introduction-to-visualization.html"><i class="fa fa-check"></i><b>8</b> Introduction to Visualization</a></li>
<li class="chapter" data-level="9" data-path="writing-data.html"><a href="writing-data.html"><i class="fa fa-check"></i><b>9</b> Writing Data</a>
<ul>
<li class="chapter" data-level="9.1" data-path="writing-data.html"><a href="writing-data.html#saving-plots"><i class="fa fa-check"></i><b>9.1</b> Saving plots</a></li>
<li class="chapter" data-level="9.2" data-path="writing-data.html"><a href="writing-data.html#writing-data-1"><i class="fa fa-check"></i><b>9.2</b> Writing data</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to R for Geospatial Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-visualization" class="section level1" number="8">
<h1><span class="header-section-number">8</span> Introduction to Visualization</h1>
<p>Let’s start off with an example plotting the distribution of life expectancy in the gapminder dataset. The first thing we do is call the ``ggplot<code>function. This function lets R know that we're creating a new plot, and any of the arguments we give the</code>ggplot() function are the global options for the plot, which means that they apply to all layers on the plot.</p>
<p>We’ll pass in two arguments to <code>ggplot</code>. First, we tell ggplot what data we want to show on our graph. In this case, the dataset we want to use as the basis for our figure is the familiar gapminder dataset. For the second argument, we pass in the <code>aes()</code> function, which tells <code>ggplot</code> how variables in the data map on to aesthetic properties of the figure. In other words, we use <code>aes()</code> to specify what variables we want to represent on our visualization, and where to represent them with respect to the visualizations’ axes.</p>
<p>In this case, we will tell <code>ggplot</code> to plot the “lifeExp” column of the gapminder data frame on the x axis. We don’t need to specify a y axis, since we’ll be drawing a histogram which will automatically show the relevant count on the y-axis.</p>
<p>Before we start, make sure that you have the ggplot library loaded if you don’t already:</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="introduction-to-visualization.html#cb285-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code></pre></div>
<p>Then, let’s draw our histogram with the following code:</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="introduction-to-visualization.html#cb286-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>gapminder, <span class="fu">aes</span>(<span class="at">x=</span>lifeExp))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-144-1.png" width="672" /></p>
<p>Notice that we have the beginnings of a graph, and the X axis is labeled as we specified, but we don’t have a graph yet. That’s because we need to tell <code>ggplot</code> how we want to visually represent the data, which we do by adding a geom layer. Since we want a histogram, we will use the <code>geom_histogram</code> function:</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="introduction-to-visualization.html#cb287-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>gapminder, <span class="fu">aes</span>(<span class="at">x=</span>lifeExp))<span class="sc">+</span></span>
<span id="cb287-2"><a href="introduction-to-visualization.html#cb287-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-145-1.png" width="672" /></p>
<p>While the histogram is a useful tool for visualizing the distribution of a single categorical variable, what if we want to compare the gdp per capita of the countries in the dataset? For that, we could use a bar (or column) plot.</p>
<p>To simplify things, let’s look at data only from the most recent year and only from countries in the Americas.</p>
<p>We’ll create a new object that meets those criteria with the following:</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="introduction-to-visualization.html#cb289-1" aria-hidden="true" tabindex="-1"></a>gapminder_small<span class="ot">&lt;-</span><span class="fu">filter</span>(gapminder, year<span class="sc">==</span><span class="dv">2007</span>, continent<span class="sc">==</span><span class="st">&quot;Americas&quot;</span>)</span></code></pre></div>
<p>Now, we can use the <code>gapminder_small</code> object in our call to ggplot. Since we want to produce a bar graph rather than histogram, we’ll use the <code>geom_col</code> function. We’ll plot countries on the x axis (which are listed in alphabetic order by default) and gdp per capita on the y-axis:</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="introduction-to-visualization.html#cb290-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>gapminder_small, <span class="fu">aes</span>(<span class="at">x=</span>country, <span class="at">y=</span>gdpPercap))<span class="sc">+</span></span>
<span id="cb290-2"><a href="introduction-to-visualization.html#cb290-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-147-1.png" width="672" /></p>
<p>This is somewhat useful, but with so many bars plotted, it’s impossible to read all the x-axis labels. A quick fix in situations like this is to add the <code>coord_flip()</code> function to the end of the plot code:</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="introduction-to-visualization.html#cb291-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>gapminder_small, <span class="fu">aes</span>(<span class="at">x=</span>country, <span class="at">y=</span>gdpPercap))<span class="sc">+</span></span>
<span id="cb291-2"><a href="introduction-to-visualization.html#cb291-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()<span class="sc">+</span></span>
<span id="cb291-3"><a href="introduction-to-visualization.html#cb291-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-148-1.png" width="672" /></p>
<p>The examples here are to just get you started with ggplot, and the process of making graphics in R. Later in the workshop, we’ll go into a lot more depth on a variety of more advanced visualization topics, especially those relevant to work with geospatial data.</p>
<p>For now, the main takeaway points are that we can use <code>ggplot2</code> to make plots, and that we should think about graphics in layers. Thinking in these terms makes the process of visualizing data in ggplot relatively intuitive.</p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="dataframe-manipulation-with-dplyr.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="writing-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/aranganath24/dc_gis_practice/edit/master/08-visualization.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/aranganath24/dc_gis_practice/blob/master/08-visualization.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
